{"version":3,"sources":["webpack:///./js/fetchCountries.js","webpack:///./js/api.js"],"names":["refs","input","document","querySelector","countryList","addCountry","html","innerHTML","addEventListener","_","inputValue","value","length","cityName","fetch","then","res","json","data","catch","error","console","PNotify","alert","country","languages","forEach","language","name","capital","population","flag","template2","countries","i","template","showCountry"],"mappings":"yKAOA,MAAMA,EAAO,CACTC,MAAOC,SAASC,cAAc,YAC9BC,YAAaF,SAASC,cAAc,iBAoDxC,SAASE,EAAWC,GAChBN,EAAKI,YAAYG,UAAYD,EAnDjCN,EAAKC,MAAMO,iBAAiB,QAASC,WAAW,IAEhD,WACI,MAAMC,EAAaV,EAAKC,MAAMU,MAC9B,GAA0B,IAAtBD,EAAWE,OAAc,QCbRC,EDeXH,ECdPI,MAAO,yCAAkBD,KAC/BE,KAAKC,GAAMA,EAAIC,QACfF,KAAKG,GAAMA,GACXC,MAAMC,GAASC,QAAQD,MAAM,QAAQA,KDWZL,KAAKG,IACnBA,EAAKN,OAAS,GACdU,IAAQC,MAAM,8DAES,IAAhBL,EAAKN,OAgBxB,SAAmBY,GACf,IAAIlB,EAAO,GAEPmB,EAAY,GAEhBD,EAAQC,UAAUC,QAAQC,IACtBF,GAAc,OAAME,EAASC,cAGjCtB,EAAQ,oGAGekB,EAAQI,gDACEJ,EAAQK,uDACJL,EAAQM,6DACLL,6CAEzBD,EAAQO,aAAaP,EAAQI,iFAG5CvB,EAAWC,GAnCH0B,CAAUd,EAAK,IAO3B,SAAkBe,GACd,IAAI3B,EAAO,GACX,IAAK,IAAI4B,EAAI,EAAGA,EAAID,EAAUrB,OAAQsB,IAClC5B,GAAS,QAAO2B,EAAUC,GAAGN,aAC7BvB,EAAWC,GATP6B,CAASjB,KCtBIL,MDS6BuB,GAAe,Q","file":"main.6623a742dc7044fe6386.js","sourcesContent":["import {makeFetch} from \"./api\";\nimport * as _ from 'lodash';\nimport PNotify from 'pnotify/dist/es/PNotify.js';\nimport 'pnotify/dist/PNotifyBrightTheme.css';\n\n\n\nconst refs = {\n    input: document.querySelector('#myInput'),\n    countryList: document.querySelector('#countryList')\n}\nrefs.input.addEventListener('input', _.debounce(() => showCountry(), 500));\n\nfunction showCountry() {\n    const inputValue = refs.input.value;\n    if (inputValue.length === 0) return;\n\n    makeFetch(inputValue).then(data => {\n        if (data.length > 10) {\n            PNotify.alert(\"Too many matches found.Please enter a more specific query!\");\n            return;\n        } else if (data.length === 1) {\n            template2(data[0]);\n        } else {\n            template(data);\n        }\n    });\n}\n\nfunction template(countries) {\n    let html = \"\";\n    for (let i = 0; i < countries.length; i++) {\n        html += `<li> ${countries[i].name} </li>`;\n        addCountry(html);\n    }\n};\n\nfunction template2(country) {\n    let html = \"\";\n\n    let languages = \"\";\n\n    country.languages.forEach(language => {\n        languages += `<li>${language.name}</li>`\n    });\n\n    html = `\n        <div class=\"maincontainer\">\n        <div class=\"container\">\n        <p class=\"title\">${country.name}</p>\n        <p class=\"signat\">Capital: ${country.capital}</p>\n        <p class=\"signat\" >Population: ${country.population}</p>\n        <ul class=\"lang signat\">Languages:${languages}</ul> \n        </div>\n        <img src=${country.flag} alt=\"${country.name}\" class=\"myImg\" width = \"320px\" height =\"250px\">\n        </div>\n        `;\n    addCountry(html);\n\n};\n\nfunction addCountry(html) {\n    refs.countryList.innerHTML = html;\n}","const baseUrl = 'https://restcountries.eu/rest/v2';\n\nexport const makeFetch = cityName => {\nreturn fetch(`${baseUrl}/name/${cityName}`)\n.then(res =>res.json())\n.then(data=>data)\n.catch(error => console.error('ERROR',error));\n};\n\n"],"sourceRoot":""}